/*! For license information please see main.710500e9ce0f930e597b.js.LICENSE.txt */
(()=>{"use strict";var e={"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/style.scss":(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var r=n("./node_modules/css-loader/dist/runtime/sourceMaps.js"),o=n.n(r),s=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(s)()(o());a.push([e.id,"* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box; }\n\nbody {\n  height: 100vh;\n  width: 100vw;\n  background-color: #f5f5f5;\n  font-family: monospace;\n  font-size: 20px;\n  color: #090808; }\n\n.main-container {\n  max-width: 798px;\n  width: 100%;\n  height: auto;\n  margin: 0 auto;\n  padding: 25px 50px;\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  gap: 18px;\n  justify-content: center; }\n  .main-container textarea {\n    width: 100%;\n    height: 300px;\n    margin: 0 auto;\n    padding: 5px;\n    font: inherit;\n    resize: none;\n    outline: 0;\n    border: 3px solid #705f5f;\n    border-radius: 16px;\n    background-color: #ffffff; }\n  .main-container .keyboard {\n    width: 698px;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 7px;\n    justify-content: center;\n    background-color: #ffffff; }\n    .main-container .keyboard .key {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 40px;\n      width: 40px;\n      font: inherit;\n      font-family: sans-serif;\n      cursor: pointer;\n      transition: 0.3s all;\n      border: 2px solid #625353;\n      border-radius: 10%;\n      background-color: #fafaf7; }\n      .main-container .keyboard .key.active {\n        transform: scale(1);\n        border: 2px solid #625353;\n        text-align: center;\n        background-color: #cbcbb8;\n        font-size: 22px;\n        color: #112691; }\n      .main-container .keyboard .key.Backspace, .main-container .keyboard .key.ShiftLeft, .main-container .keyboard .key.ShiftRight, .main-container .keyboard .key.CapsLock, .main-container .keyboard .key.Enter {\n        width: 87px; }\n      .main-container .keyboard .key.Space {\n        width: 322px; }\n  .main-container p {\n    font-size: 22px; }\n","",{version:3,sources:["webpack://./src/style.scss"],names:[],mappings:"AAAA;EACE,SAAS;EACT,UAAU;EACV,sBAAsB,EAAA;;AAGxB;EACE,aAAa;EACb,YAAY;EACZ,yBAAyB;EAEvB,sBAAiB;EACjB,eAAU;EAEZ,cAAc,EAAA;;AAGhB;EACE,gBAAuC;EACvC,WAAW;EACX,YAAY;EACZ,cAAc;EACd,kBAAkB;EAClB,aAAa;EACb,iBAAiB;EACjB,mBAAmB;EACnB,SAAS;EACT,uBAAuB,EAAA;EAVzB;IAaI,WAAW;IACX,aAAa;IACb,cAAc;IACd,YAAY;IACZ,aAAa;IACb,YAAY;IACZ,UAAU;IACV,yBAAyB;IACzB,mBAAmB;IACnB,yBAAyB,EAAA;EAtB7B;IA0BI,YAA2B;IAC3B,aAAa;IACb,eAAe;IACf,QAAQ;IACR,uBAAuB;IACvB,yBAAyB,EAAA;IA/B7B;MAkCM,aAAa;MACb,uBAAuB;MACvB,mBAAmB;MACnB,YAAY;MACZ,WAAW;MACX,aAAa;MACb,uBAAuB;MACvB,eAAe;MACf,oBAAoB;MACpB,yBAAyB;MACzB,kBAAkB;MAClB,yBAAyB,EAAA;MA7C/B;QAgDQ,mBAAmB;QACnB,yBAAyB;QACzB,kBAAkB;QAClB,yBAAyB;QACzB,eAAe;QACf,cAAc,EAAA;MArDtB;QA6DQ,WAAW,EAAA;MA7DnB;QAiEQ,YAAyB,EAAA;EAjEjC;IAuEI,eAAe,EAAA",sourcesContent:["* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  height: 100vh;\n  width: 100vw;\n  background-color: #f5f5f5;\n  font: {\n    family: monospace;\n    size: 20px;\n  }\n  color: #090808;\n}\n\n.main-container {\n  max-width: 40px * 15 + 7px * 14 + 100px;\n  width: 100%;\n  height: auto;\n  margin: 0 auto;\n  padding: 25px 50px;\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  gap: 18px;\n  justify-content: center;\n\n  textarea {\n    width: 100%;\n    height: 300px;\n    margin: 0 auto;\n    padding: 5px;\n    font: inherit;\n    resize: none;\n    outline: 0;\n    border: 3px solid #705f5f;\n    border-radius: 16px;\n    background-color: #ffffff;\n  }\n\n  .keyboard {\n    width: 40px * 15 + 7px * 14;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 7px;\n    justify-content: center;\n    background-color: #ffffff;\n\n    .key {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 40px;\n      width: 40px;\n      font: inherit;\n      font-family: sans-serif;\n      cursor: pointer;\n      transition: 0.3s all;\n      border: 2px solid #625353;\n      border-radius: 10%;\n      background-color: #fafaf7;\n\n      &.active {\n        transform: scale(1);\n        border: 2px solid #625353;\n        text-align: center;\n        background-color: #cbcbb8;\n        font-size: 22px;\n        color: #112691;\n      }\n\n      &.Backspace,\n      &.ShiftLeft,\n      &.ShiftRight,\n      &.CapsLock,\n      &.Enter {\n        width: 87px;\n      }\n\n      &.Space {\n        width: 40px * 7 + 7px * 6;\n      }\n    }\n  }\n\n  p {\n    font-size: 22px;\n  }\n}\n"],sourceRoot:""}]);const i=a},"./node_modules/css-loader/dist/runtime/api.js":e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,s){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(a[c]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);r&&a[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},"./node_modules/css-loader/dist/runtime/sourceMaps.js":e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),s="/*# ".concat(o," */"),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(a).concat([s]).join("\n")}return[t].join("\n")}},"./src/style.scss":(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=n.n(r),s=n("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),a=n.n(s),i=n("./node_modules/style-loader/dist/runtime/insertBySelector.js"),c=n.n(i),d=n("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),l=n.n(d),u=n("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),A=n.n(u),f=n("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),p=n.n(f),h=n("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/style.scss"),m={};m.styleTagTransform=p(),m.setAttributes=l(),m.insert=c().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=A();o()(h.default,m);const y=h.default&&h.default.locals?h.default.locals:void 0},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var s={},a=[],i=0;i<e.length;i++){var c=e[i],d=r.base?c[0]+r.base:c[0],l=s[d]||0,u="".concat(d," ").concat(l);s[d]=l+1;var A=n(u),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==A)t[A].references++,t[A].updater(f);else{var p=o(f,r);r.byIndex=i,t.splice(i,0,{identifier:u,updater:p,references:1})}a.push(u)}return a}function o(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var s=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<s.length;a++){var i=n(s[a]);t[i].references--}for(var c=r(e,o),d=0;d<s.length;d++){var l=n(s[d]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}s=c}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={id:r,exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{n.r(r);n("./src/style.scss");class e{constructor(e){this.keysElement=e,this.keyboard=null,this.textarea=null,this.isCapsOn=!1,this.isDown=!1,this.layout="ru"===localStorage.getItem("lang")?"ru":"en",this.keys=[]}renderHtmlElements(){const e=document.createElement("main"),t=document.createElement("textarea"),n=document.createElement("div"),r=document.createElement("p"),o=document.createElement("h1");e.classList.add("main"),e.classList.add("main-container"),o.textContent="RSS Virtual keyboard ",r.innerText="To change the language, press Ctrl + Alt\nThe keyboard was written on Linux Ubuntu",e.appendChild(o),e.appendChild(t),e.appendChild(n),e.appendChild(r),document.body.appendChild(e),this.keyboard=n,this.textarea=t}renderKeyboard(){this.keyboard.classList.add("keyboard"),this.keysElement.forEach((e=>{const t=document.createElement("button");t.setAttribute("id",e.code),t.setAttribute("type","button"),t.setAttribute("character-en",e.character.en),t.setAttribute("character-ru",e.character.ru),t.setAttribute("contents-en",e.contents.en),t.setAttribute("contents-ru",e.contents.ru),t.setAttribute("shift-en",e.shift.en),t.setAttribute("shift-ru",e.shift.ru),t.classList.add("key",e.code),t.textContent="en"===this.layout?e.contents.en:e.contents.ru,this.keyboard.appendChild(t),this.keys.push(t)}))}addListeners(){document.addEventListener("keydown",(e=>{const t=document.getElementById(e.code);if(t){t.classList.add("active"),e.preventDefault();const n=t.getAttribute("character-en");"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||e.repeat?"CapsLock"!==e.code||e.repeat?e.ctrlKey&&e.altKey?(this.layout="ru"===this.layout?"en":"ru",localStorage.setItem("lang",this.layout),this.keys.forEach((e=>{if("en"===this.layout){e.innerText=e.getAttribute("contents-en")}else if("ru"===this.layout){e.innerText=e.getAttribute("contents-ru")}}))):"Backspace"===e.code?this.handleText("","Backspace"):"Delete"===e.code?this.handleText("","Delete"):"Enter"===e.code?this.handleText("\n"):"Tab"===e.code?this.handleText("\t"):"functional"!==n&&this.handleText(t.textContent):(this.shiftText(!1),this.isCapsOn&&t.classList.remove("active"),this.isCapsOn=!this.isCapsOn):this.shiftText(!0)}})),document.addEventListener("keyup",(e=>{const t=document.getElementById(e.code);t&&("CapsLock"!==e.code&&t.classList.remove("active"),"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||this.shiftText(!0))})),this.keyboard.addEventListener("mousedown",(e=>{const t=new KeyboardEvent("keydown",{code:e.target.id});document.dispatchEvent(t),this.isDown=!0})),this.keyboard.addEventListener("mouseup",(e=>{const t=new KeyboardEvent("keyup",{code:e.target.id});document.dispatchEvent(t),this.isDown=!1})),this.keyboard.addEventListener("mouseout",(e=>{if(this.isDown){const t=new KeyboardEvent("keyup",{code:e.target.id});document.dispatchEvent(t)}})),this.textarea.onblur=()=>this.textarea.focus(),this.textarea.focus()}handleText(e,t){let n=this.textarea.selectionStart,r=this.textarea.selectionEnd;this.textarea.selectionStart===this.textarea.selectionEnd&&("Delete"===t?r+=1:"Backspace"===t&&(n=Math.max(0,n-1))),"Delete"===t||"Backspace"===t?this.textarea.setRangeText("",n,r):this.textarea.setRangeText(e),this.textarea.selectionStart=n+e.length,this.textarea.selectionEnd=this.textarea.selectionStart}shiftText(e){this.keys.forEach((t=>{const n=t;if(e||"letter"===n.getAttribute("character-en")){const e=n.getAttribute("contents-en");n.setAttribute("contents-en",n.getAttribute("shift-en")),n.setAttribute("shift-en",e)}if(e||"letter"===n.getAttribute("character-ru")){const e=n.getAttribute("contents-ru");n.setAttribute("contents-ru",n.getAttribute("shift-ru")),n.setAttribute("shift-ru",e)}n.innerText="en"===this.layout?n.getAttribute("contents-en"):n.getAttribute("contents-ru")}))}}window.addEventListener("DOMContentLoaded",(async()=>{const t=await(async()=>(await fetch("keys.json")).json())(),n=new e(t);n.renderHtmlElements(),n.renderKeyboard(),n.addListeners()}))})()})();
//# sourceMappingURL=main.710500e9ce0f930e597b.js.map